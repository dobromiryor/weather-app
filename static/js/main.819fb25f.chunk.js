(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{56:function(t,e,n){"use strict";n.r(e);var a,i,r,o,c,s,d,l,p,u,h,m,x,b,g,f,j,w,v,O,y,S,D,k,L,M,C,W,R=n(1),P=n.n(R),T=n(25),E=n.n(T),F=n(9),N=n(8),U=n.n(N),A=n(2),I=n(3),Q=Object(I.a)(a||(a=Object(A.a)(["\n  html {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    min-height: 100%;\n\n    background-color: var(--background);\n    color: var(--text);\n\n    font-size: 1em;\n\n    :root{\n      --border-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.1),\n\t\t0px 0px 0px 1px rgba(0, 0, 0, 0.15);\n      --small-shadow: 0px 0px 8px 0px rgba(0, 0, 0, 0.15),\n\t\t\t0px 2px 4px -2px rgba(0, 0, 0, 0.4);\n      --mid-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.15),\n\t\t\t0px 4px 8px -4px rgba(0, 0, 0, 0.5);\n      --big-shadow: 0px 0px 32px 0px rgba(0, 0, 0, 0.15),\n\t\t\t0px 8px 16px -8px rgba(0, 0, 0, 0.6);\n    }\n\n    // Light theme\n    @media (prefers-color-scheme: light) {\n      :root {\n        --text: #333;\n        --background: #fff;\n      }\n    }\n    // Dark theme\n    @media (prefers-color-scheme: dark) {\n      :root{\n        --text: #ccc;\n        --background: #222;\n      }\n\n      background-color: var(--background);\n      color: var(--text);\n    }\n  }\n\n  body {\n    width: 100%;\n\n    margin: 0;\n\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    // Medium devices (tablets, 768px and up)\n    @media (min-width: 768px) {\n      width: initial;\n    }\n  }\n\n  #root{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]))),q=I.c.div(i||(i=Object(A.a)(["\n\tbox-sizing: border-box;\n\tmargin: 0px;\n\tpadding: 8px;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\n\twidth: 100%;\n\theight: 100vh;\n\n\tborder-radius: 8px;\n\tbox-shadow: var(--big-shadow);\n\n\ttransition: 0.2s ease;\n\n\t&.loaded {\n\t\theight: initial;\n\t\tmax-height: initial;\n\t}\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tmargin: 32px;\n\t\theight: calc(100vh - 2 * 32px);\n\t\tmax-height: 980px;\n\t}\n\n\t// Medium devices (tablets, 768px and up)\n\t@media (min-width: 768px) {\n\t\tmin-width: 576px;\n\t\tmax-width: 768px;\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\twidth: 768px;\n\t}\n"]))),z=n(5),B=n(6),J=I.c.section(r||(r=Object(A.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr;\n\tgrid-template-rows: auto auto 1fr auto auto;\n\tgrid-gap: 8px;\n\n\tpadding: 16px;\n\tmargin: 8px;\n\n\tborder-radius: 4px;\n\tbox-shadow: var(--border-shadow);\n\n\ttransition: 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: var(--mid-shadow);\n\t}\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgrid-template-rows: auto auto 1fr 1fr;\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgrid-template-rows: auto auto 1fr 1fr;\n\t}\n"]))),G=I.c.div(o||(o=Object(A.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-column: span 2;\n\t}\n"]))),H=I.c.div(c||(c=Object(A.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),Z=I.c.span(s||(s=Object(A.a)(["\n\tmargin: 0 0 0 4px;\n"]))),_=I.c.div(d||(d=Object(A.a)(["\n\theight: fit-content;\n\n\tmargin: 0 0 0 8px;\n\tpadding: 0;\n\n\tborder: none;\n\tbackground: none;\n\tcolor: var(--text);\n\tfont-size: 1em;\n\n\tcursor: pointer;\n\tpointer-events: initial;\n\ttransition: 1s ease-in-out;\n\n\topacity: ",";\n\tpointer-events: ",";\n\ttransform: ",";\n"])),(function(t){return t.disabled?"0.1":"1"}),(function(t){return t.disabled?"none":"auto"}),(function(t){return t.disabled?"rotate(360deg)":"rotate(0deg)"})),V=I.c.h3(l||(l=Object(A.a)(["\n\tmargin: 0 0 16px 0;\n\tjustify-self: center;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-column: 1/3;\n\t}\n"]))),Y=I.c.div(p||(p=Object(A.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\n\t// under 310px\n\t@media (max-width: 310px) {\n\t\tflex-direction: column;\n\t}\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-column: span 2;\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-column: span 2;\n\t}\n"]))),X=I.c.div(u||(u=Object(A.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\tfont-size: 6rem;\n\tfont-weight: 700;\n"]))),$=I.c.div(h||(h=Object(A.a)(["\n\tjustify-self: stretch;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\n\t// Medium devices (tablets, 768px and up)\n\t@media (min-width: 768px) {\n\t\tmin-width: 256px;\n\t}\n"]))),K=n(0),tt=function(t){for(var e=t.convertTime,n=t.daysArray,a=t.forceRefetch,i=t.forceRefresh,r=t.iconURL,o=t.weatherData,c=0,s=[],d=[],l="",p=0;p<n[0].length;p++)c+=n[0][p].pop,s.push(n[0][p].main.temp_min),d.push(n[0][p].main.temp_max);o.wind.deg<22.5&&o.wind.deg>337.5?l="N":o.wind.deg<67.5&&o.wind.deg>22.5?l="NE":o.wind.deg<112.5&&o.wind.deg>67.5?l="E":o.wind.deg<157.5&&o.wind.deg>112.5?l="SE":o.wind.deg<202.5&&o.wind.deg>157.5?l="S":o.wind.deg<247.5&&o.wind.deg>202.5?l="SW":o.wind.deg<292.5&&o.wind.deg>247.5?l="W":o.wind.deg<337.5&&o.wind.deg>292.5&&(l="NW");var u={clouds:o.clouds.all,date:o.dt,description:o.weather[0].description,feelsLike:Math.round(o.main.feels_like),humidity:o.main.humidity,image:o.weather[0].icon,imageCode:o.weather[0].id,lastUpdated:o.dt,pop:Math.round(c/n[0].length*100),pressure:o.main.pressure,main:o.weather[0].main,sunrise:o.sys.sunrise,sunset:o.sys.sunset,temp:Math.round(o.main.temp),tempMin:Math.round(Math.min.apply(Math,s)),tempMax:Math.round(Math.max.apply(Math,d)),visibility:Math.floor(o.visibility/1e3),windSpeed:o.wind.speed,windDeg:o.wind.deg,windDir:l};return Object(K.jsxs)(J,{children:[Object(K.jsx)(V,{children:"Current weather"}),Object(K.jsxs)(G,{children:[Object(K.jsxs)(H,{children:[Object(K.jsx)(z.a,{icon:B.h,title:"Current location","aria-label":"Current location"}),Object(K.jsxs)(Z,{children:[o.name,", ",o.sys.country]})]}),Object(K.jsxs)(H,{title:a?"Next refresh in 5 min":"","aria-label":a?"Next refresh in 5 min":"",children:[Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.b,title:"Last updated","aria-label":"Last updated"})," ",e(o.dt)]}),Object(K.jsx)(_,{onClick:i,disabled:!!a,title:"Refresh","aria-label":"Refresh",children:Object(K.jsx)(z.a,{icon:B.k})})]})]}),Object(K.jsxs)(Y,{children:[Object(K.jsx)("img",{src:"".concat(r,"/").concat(u.image,"@2x.png"),alt:u.description}),Object(K.jsx)(X,{children:Object(K.jsxs)("div",{children:[u.temp,"\xb0"]})})]}),Object(K.jsxs)($,{children:[Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.m,title:"Minimum Temperature","aria-label":"Minimum Temperature"})," ",u.tempMin,"\xb0"," ",Object(K.jsx)(z.a,{icon:B.l,title:"Max Temperature","aria-label":"Max Temperature"})," ",u.tempMax,"\xb0"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.n,"aria-hidden":"true",title:"Feels like","aria-label":"Feels like"})," ","Feels like ",u.feelsLike,"\xb0"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.c,"aria-hidden":"true",title:"Cloud coverage","aria-label":"Cloud coverage"})," ","Cloud coverage: ",u.clouds,"%"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.p,"aria-hidden":"true",title:"Probability of precipitation","aria-label":"Probability of precipitation"})," ","Precipitation: ",u.pop,"%"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.o,"aria-hidden":"true",title:"Humidity","aria-label":"Humidity"})," ","Humidity: ",u.humidity,"%"]})]}),Object(K.jsxs)($,{children:[Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.f,"aria-hidden":"true",title:"Atmospheric pressure","aria-label":"Atmospheric pressure"})," ","Pressure: ",u.pressure,"hPa"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.a,"aria-hidden":"true",title:"Visibility","aria-label":"Visibility"})," ","Visibility: ",u.visibility,"km"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.q,"aria-hidden":"true",title:"Wind speed/direction","aria-label":"Wind speed/direction"})," ","Wind: ",u.windSpeed,"m/s"," ",Object(K.jsx)(z.a,{icon:B.f,transform:{rotate:u.windDeg},"aria-hidden":"true",title:"Direction","aria-label":"Direction"})," ",u.windDeg,"\xb0 (",u.windDir,")"]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.j,"aria-hidden":"true",title:"Sunrise","aria-label":"Sunrise"}),Object(K.jsx)(z.a,{icon:B.g,"aria-hidden":"true",title:"Sunrise","aria-label":"Sunrise"})," ","Sunrise: ",e(u.sunrise)]}),Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.j,"aria-hidden":"true",title:"Sunset","aria-label":"Sunset"}),Object(K.jsx)(z.a,{icon:B.f,"aria-hidden":"true",title:"Sunset","aria-label":"Sunset"})," ","Sunset: ",e(u.sunset)]})]})]})},et=I.c.article(m||(m=Object(A.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\n\tborder-radius: 4px;\n\tbox-shadow: var(--border-shadow);\n\n\tmargin: 0px;\n\tpadding: 8px;\n\n\ttransition: 0.2s ease;\n\n\timg {\n\t\tmax-width: 100px;\n\t\theight: auto;\n\t}\n\n\t&:hover {\n\t\tbox-shadow: var(--small-shadow);\n\t}\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tmargin: 0;\n\t}\n"]))),nt=I.c.div(x||(x=Object(A.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\n\tdiv {\n\t\tmargin: 2px;\n\t}\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tflex-direction: row;\n\t}\n"]))),at=function(t){var e=t.iconURL,n=t.item,a=t.timeOrDate;return Object(K.jsxs)(et,{children:[Object(K.jsx)("div",{children:a(n.date)}),Object(K.jsx)("img",{src:"".concat(e,"/").concat(n.image,"@2x.png"),alt:n.description}),Object(K.jsxs)("div",{children:[Math.round(n.temp),"\xb0 \u2013 ",n.main]}),Object(K.jsxs)(nt,{children:[n.clouds>10?Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.c,title:"Cloud coverage","aria-label":"Cloud coverage"})," ",n.clouds,"%"]}):Object(K.jsx)(K.Fragment,{}),n.pop>0?Object(K.jsxs)("div",{children:[Object(K.jsx)(z.a,{icon:B.d,"aria-label":"Probability of precipitation",title:"Probability of precipitation"})," ",n.pop,"%"]}):Object(K.jsx)(K.Fragment,{})]})]})},it=I.c.section(b||(b=Object(A.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tpadding: 16px;\n\tmargin: 8px;\n\n\tborder-radius: 4px;\n\tbox-shadow: var(--border-shadow);\n\n\ttransition: 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: var(--mid-shadow);\n\t}\n"]))),rt=I.c.h3(g||(g=Object(A.a)(["\n\talign-self: center;\n\tmargin: 0 0 16px 0;\n"]))),ot=I.c.div(f||(f=Object(A.a)(["\n\toverflow: scroll auto;\n\tdisplay: grid;\n\tgrid-template-rows: 1fr;\n\tgrid-template-columns: repeat(4, 1fr);\n\tgrid-gap: 16px;\n\n\tmargin: -8px;\n\tpadding: 8px;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\toverflow: initial;\n\t\tgrid-template-rows: repeat(2, 1fr);\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-template-rows: initial;\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t}\n"]))),ct=function(t){for(var e=t.convertTime,n=t.forecastData,a=t.iconURL,i=[],r=0;r<5;r++){var o={clouds:n.list[r].clouds.all,date:n.list[r].dt,description:n.list[r].weather[0].description,image:n.list[r].weather[0].icon,pop:Math.round(100*n.list[r].pop),main:n.list[r].weather[0].main,temp:Math.round(n.list[r].main.temp)};i.push(o)}return Object(K.jsxs)(it,{children:[Object(K.jsx)(rt,{children:"Next 24 hours"}),Object(K.jsx)(ot,{children:i.slice(0,4).map((function(t,n){return Object(K.jsx)(at,{timeOrDate:e,item:t,iconURL:a},n)}))})]})},st=I.c.section(j||(j=Object(A.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\n\tpadding: 16px;\n\tmargin: 8px;\n\n\tborder-radius: 4px;\n\tbox-shadow: var(--border-shadow);\n\n\ttransition: 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: var(--mid-shadow);\n\t}\n"]))),dt=I.c.h3(w||(w=Object(A.a)(["\n\talign-self: center;\n\tmargin: 0 0 16px 0;\n"]))),lt=I.c.div(v||(v=Object(A.a)(["\n\toverflow: scroll auto;\n\tdisplay: grid;\n\tgrid-template-columns: repeat(4, 1fr);\n\tgrid-template-rows: initial;\n\tgrid-gap: 16px;\n\n\tmargin: -8px;\n\tpadding: 8px;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\toverflow: initial;\n\t\tgrid-template-rows: repeat(2, 1fr);\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgrid-template-rows: initial;\n\t}\n"]))),pt=function(t){for(var e=t.daysArray,n=t.convertDate,a=t.iconURL,i=[],r=1;r<5;r++){for(var o=0,c=0,s=0,d=Math.ceil(e[r].length/2),l=0;l<e[r].length;l++)e[r][l].dt||window.location.reload(),o+=e[r][l].clouds.all,c+=e[r][l].pop,s+=e[r][l].main.temp;var p={clouds:Math.round(o/e[r].length),date:e[r][d].dt,description:e[r][d].weather[0].description,image:e[r][d].weather[0].icon.substring(0,e[r][d].weather[0].icon.length-1)+"d",pop:Math.round(c/e[r].length*100),main:e[r][d].weather[0].main,temp:Math.round(s/e[r].length)};i.push(p)}return Object(K.jsxs)(st,{children:[Object(K.jsx)(dt,{children:"Next 4 days"}),Object(K.jsx)(lt,{children:i.slice(0,4).map((function(t,e){return Object(K.jsx)(at,{timeOrDate:n,item:t,iconURL:a},e)}))})]})},ut=Object(I.b)(O||(O=Object(A.a)(["\n\tfont-size: 0.7em;\n\ttransform: translateX(1px) translateY(-13px);\n"]))),ht=I.c.form(y||(y=Object(A.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\tjustify-self: flex-start;\n\n\tmargin: 8px;\n\tpadding: 16px;\n\n\tbox-shadow: var(--border-shadow);\n\tborder-radius: 4px;\n\n\ttransition: 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: var(--mid-shadow);\n\t}\n\n\t&:focus-within {\n\t\tbox-shadow: var(--small-shadow);\n\t}\n\n\tbutton {\n\t\theight: fit-content;\n\n\t\tmargin: 0;\n\t\tpadding: 0;\n\n\t\tborder: none;\n\t\tbackground: none;\n\t\tcolor: var(--text);\n\t\tfont-size: 1em;\n\n\t\tcursor: pointer;\n\n\t\t&:focus {\n\t\t\toutline: none;\n\t\t}\n\t}\n"]))),mt=I.c.button(S||(S=Object(A.a)(["\n\twidth: 18px;\n"]))),xt=I.c.div(D||(D=Object(A.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),bt=I.c.label(k||(k=Object(A.a)(["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 7px;\n\n\tpointer-events: none;\n\n\ttransition: all 0.2s ease;\n\n\t&.shrink {\n\t\t","\n\t}\n"])),ut),gt=I.c.input(L||(L=Object(A.a)(["\n\tbox-sizing: border-box;\n\n\tmargin: 0 4px;\n\tpadding: 4px;\n\n\twidth: calc(100% - 2 * 4px);\n\theight: 22px;\n\n\tborder: none;\n\tborder-top: 1px solid var(--background);\n\tborder-bottom: 1px solid var(--background);\n\n\tbackground-color: var(--background);\n\tcolor: var(--text);\n\n\tfont-size: 1em;\n\n\t&:hover,\n\t&:focus {\n\t\toutline: none;\n\t\tborder-top: 1px solid var(--background);\n\t\tborder-bottom: 1px solid var(--text);\n\t}\n\n\t&:focus ~ "," {\n\t\t","\n\t}\n"])),bt,ut),ft=function(t){var e=t.getCityWeatherData,n=t.handleLocationWeatherData,a=t.query,i=t.setLastQuery,r=t.setQuery;return Object(K.jsxs)(ht,{onSubmit:function(t){t.preventDefault(),e(a),i(a),r("")},children:[localStorage.hasOwnProperty("weatherData")?Object(K.jsx)(K.Fragment,{}):Object(K.jsx)(mt,{onClick:n,type:"button",title:"Use my Location","aria-label":"Use my location",children:Object(K.jsx)(z.a,{icon:B.e})}),Object(K.jsxs)(xt,{children:[Object(K.jsx)(gt,{type:"text",name:"city",onChange:function(t){return r(t.target.value)},required:!0}),Object(K.jsx)(bt,{htmlFor:"city",className:a.length?"shrink":"",children:"Enter city name"})]}),Object(K.jsx)("button",{type:"submit",title:"Search","aria-label":"Search",children:Object(K.jsx)(z.a,{icon:B.i})})]})},jt=function(t){for(var e=t.convertDate,n=t.convertTime,a=t.forceRefetch,i=t.forceRefresh,r=t.forecastData,o=t.handleLocationWeatherData,c=t.getCityWeatherData,s=t.query,d=t.setLastQuery,l=t.setQuery,p=t.weatherData,u="https://openweathermap.org/img/wn",h=[],m=function(t){var e=(new Date).setFullYear((new Date).getFullYear(),0,1),n=Math.floor(e/864e5);return Math.ceil(t.getTime()/864e5)-n},x=function(t){h.push(r.list.filter((function(e){return m(new Date(1e3*e.dt))===m(new Date)+t})))},b=0;b<6;b++)x(b);return Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(ft,{handleLocationWeatherData:o,getCityWeatherData:c,query:s,setLastQuery:d,setQuery:l}),Object(K.jsx)(tt,{convertDate:e,convertTime:n,daysArray:h,forceRefetch:a,forceRefresh:i,iconURL:u,weatherData:p}),Object(K.jsx)(ct,{convertTime:n,forecastData:r,iconURL:u}),Object(K.jsx)(pt,{convertDate:e,daysArray:h,iconURL:u})]})};function wt(){return(wt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function vt(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ot(t,e){var n=t.title,a=t.titleId,i=vt(t,["title","titleId"]);return R.createElement("svg",wt({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},i),M||(M=R.createElement("defs",null,R.createElement("style",null,".fill{fill:#ffcd34;}"))),void 0===n?R.createElement("title",{id:a},"Logo"):n?R.createElement("title",{id:a},n):null,C||(C=R.createElement("g",{id:"fill","data-name":"Fill"},R.createElement("polygon",{className:"fill",points:"91.22 256.01 148.01 298.78 141 366.79 221.61 362.58 255.97 413.76 300.83 359.08 373.04 368.89 366.03 295.27 422.11 256.01 361.82 211.84 375.14 145.93 306.44 145.93 260.17 93.34 216.71 145.93 143.8 136.81 148.01 210.44 91.22 256.01"}))),W||(W=R.createElement("g",{id:"outline","data-name":"Outline"},R.createElement("path",{d:"M423,232.1,381,203.7l9.6-49.78a28.35,28.35,0,0,0-33.16-33.3l-49.7,9.61-28.32-42c-10.59-15.64-36.38-15.64-47,0l-28.32,42-49.63-9.61a28.42,28.42,0,0,0-33.23,33.3l9.6,49.78L89,232.1a28.41,28.41,0,0,0,0,47l41.92,28.4-9.6,49.78a28.35,28.35,0,0,0,33.23,33.23L204.16,381l28.32,42a28.29,28.29,0,0,0,47,.07l28.32-42,49.7,9.61a28,28,0,0,0,25.45-7.78,28.47,28.47,0,0,0,7.78-25.45l-9.6-49.78L423,279.22A28.43,28.43,0,0,0,423,232.1Zm-79.15,60,12.34,63.94-63.79-12.34L256,397.64l-36.38-54L155.86,356,168.19,292l-53.84-36.46,53.84-36.46-12.34-63.94,63.79,12.34L256,113.68l36.38,53.92,63.79-12.34L343.8,219.13l53.84,36.46L343.8,292.12ZM256,183.09A72.92,72.92,0,1,0,328.87,256,73,73,0,0,0,256,183.09Zm0,112.18A39.26,39.26,0,1,1,295.22,256,39.29,39.29,0,0,1,256,295.27Z"}))))}var yt,St,Dt=R.forwardRef(Ot),kt=(n.p,I.c.div(yt||(yt=Object(A.a)(["\n\tanimation: scale 2s infinite alternate ease-in-out;\n\tmargin: auto 0;\n\n\t@keyframes scale {\n\t\t0% {\n\t\t\ttransform: scale(0.7);\n\t\t}\n\t\t100% {\n\t\t\ttransform: scale(0.5);\n\t\t}\n\t}\n"])))),Lt=Object(I.c)(Dt)(St||(St=Object(A.a)(["\n\talign-self: center;\n\tjustify-self: center;\n\n\tanimation: rotate 4s infinite alternate ease-in-out;\n\n\t@keyframes rotate {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(180deg);\n\t\t}\n\t}\n\n\t& .fill {\n\t\tanimation: fade 2s alternate infinite ease-in-out;\n\n\t\t@keyframes fade {\n\t\t\t0% {\n\t\t\t\tfill: #ffcc33;\n\t\t\t}\n\t\t\t100% {\n\t\t\t\tfill: #fc9601;\n\t\t\t}\n\t\t}\n\t}\n"]))),Mt=function(){return Object(K.jsx)(kt,{children:Object(K.jsx)(Lt,{title:"Spinning Logo"})})};var Ct=function(){var t=Object(R.useState)(""),e=Object(F.a)(t,2),n=e[0],a=e[1],i=Object(R.useState)("myLocation"),r=Object(F.a)(i,2),o=r[0],c=r[1],s=Object(R.useState)([]),d=Object(F.a)(s,2),l=d[0],p=d[1],u=Object(R.useState)([]),h=Object(F.a)(u,2),m=h[0],x=h[1],b=Object(R.useState)(!1),g=Object(F.a)(b,2),f=g[0],j=g[1],w="https://api.openweathermap.org/data/2.5",v="88f8e8a58d8479319be8c6845d6d1a75",O=function(t){U.a.all([U.a.get("".concat(w,"/weather/?q=").concat(t,"&units=metric&appid=").concat(v)),U.a.get("".concat(w,"/forecast?q=").concat(t,"&units=metric&appid=").concat(v))]).then(U.a.spread((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];p(e[0].data),x(e[1].data)}))).catch((function(t){t.response?(404===t.response.status&&alert("City not found. Please enter valid city name and/or two letter country code separated by coma. (e.g. Plovdiv, BG)"),console.log(t.response.data.message)):console.log(t)}))},y=function(){var t;new Promise((function(e,n){navigator.geolocation.getCurrentPosition(e,n,t)})).then((function(t){var e,n;e=t.coords.latitude,n=t.coords.longitude,U.a.all([U.a.get("".concat(w,"/weather/?lat=").concat(e,"&lon=").concat(n,"&units=metric&appid=").concat(v)),U.a.get("".concat(w,"/forecast?lat=").concat(e,"&lon=").concat(n,"&units=metric&appid=").concat(v))]).then(U.a.spread((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];p(e[0].data),x(e[1].data),localStorage.setItem("weatherData",JSON.stringify(e[0].data)),localStorage.setItem("forecastData",JSON.stringify(e[1].data)),c("myLocation")}))).catch((function(t){t.response?console.log(t.response.data.message):console.log(t)}))})).catch((function(t){1===t.code?alert("To use your geolocation please allow location permission on your device."):2===t.code?alert("Geolocation failed because one or several internal sources of position returned an internal error."):3===t.code&&alert("Geolocation timed out."),console.log(t.message)}))};return Object(R.useEffect)((function(){(localStorage.hasOwnProperty("weatherData")||localStorage.hasOwnProperty("forecastData"))&&(Date.now()-1e3*JSON.parse(localStorage.getItem("weatherData")).dt>36e5?y():(p(JSON.parse(localStorage.getItem("weatherData"))),x(JSON.parse(localStorage.getItem("forecastData")))))}),[]),Object(K.jsxs)(K.Fragment,{children:[Object(K.jsx)(Q,{}),200===l.cod&&"200"===m.cod?Object(K.jsx)(q,{className:"loaded",children:Object(K.jsx)(jt,{convertDate:function(t){return new Date(1e3*t).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"numeric",year:"numeric"})},convertTime:function(t){return new Date(1e3*t).toLocaleTimeString("en-GB",{hour12:!1,hour:"numeric",minute:"numeric"})},forceRefetch:f,forceRefresh:function(){"myLocation"===o?y():(O(o),console.log(o,n)),j(!0),setTimeout((function(){j(!1),clearTimeout()}),3e5)},forecastData:m,handleLocationWeatherData:y,getCityWeatherData:O,query:n,setLastQuery:c,setQuery:a,weatherData:l})}):Object(K.jsxs)(q,{children:[Object(K.jsx)(ft,{handleLocationWeatherData:y,getCityWeatherData:O,query:n,setLastQuery:c,setQuery:a}),Object(K.jsx)(Mt,{})]})]})},Wt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Rt(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var Pt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),r(t),o(t)}))};E.a.render(Object(K.jsx)(P.a.StrictMode,{children:Object(K.jsx)(Ct,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/weather-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/weather-app","/service-worker.js");Wt?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):Rt(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Rt(e,t)}))}}(),Pt()}},[[56,1,2]]]);
//# sourceMappingURL=main.819fb25f.chunk.js.map