(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{56:function(t,e,n){"use strict";n.r(e);var a,i,r,o,c,s,d,l,p,u,m,h,g,x,f,b,j,v,w,O,y,k,D,L=n(1),S=n.n(L),M=n(25),R=n.n(M),W=n(10),C=n(8),P=n.n(C),F=n(2),E=n(3),T=Object(E.a)(a||(a=Object(F.a)(["\n  html {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    min-height: 100%;\n\n    background-color: var(--background);\n    color: var(--text);\n\n    font-size: 1em;\n\n    :root{\n      --border-shadow: 0px 0px 0px 0px rgba(0, 0, 0, 0.1),\n\t\t0px 0px 0px 1px rgba(0, 0, 0, 0.15);\n      --small-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.15),\n\t\t\t0px 4px 8px -4px rgba(0, 0, 0, 0.5);\n      --big-shadow: 0px 0px 32px 0px rgba(0, 0, 0, 0.15),\n\t\t\t0px 8px 24px -8px rgba(0, 0, 0, 0.5);\n    }\n\n    // Light theme\n    @media (prefers-color-scheme: light) {\n      :root {\n        --text: #333;\n        --background: #fff;\n      }\n    }\n    // Dark theme\n    @media (prefers-color-scheme: dark) {\n      :root{\n        --text: #ccc;\n        --background: #222;\n      }\n\n      background-color: var(--background);\n      color: var(--text);\n    }\n  }\n\n  body {\n    width: 100%;\n\n    margin: 0;\n\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n\n    // Medium devices (tablets, 768px and up)\n    @media (min-width: 768px) {\n      width: initial;\n    }\n  }\n\n  #root{\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]))),U=E.c.div(i||(i=Object(F.a)(["\n\tmargin: 0px;\n\tpadding: 8px;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\twidth: 100%;\n\n\tborder-radius: 8px;\n\tbox-shadow: var(--big-shadow);\n\n\ttransition: 0.2s ease;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tmargin: 32px;\n\t}\n\n\t// Medium devices (tablets, 768px and up)\n\t@media (min-width: 768px) {\n\t\tmin-width: 576px;\n\t\tmax-width: 768px;\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\twidth: 768px;\n\t}\n"]))),A=n(5),N=n(6),I=n(0),q=E.c.div(r||(r=Object(F.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: 1fr;\n\tgrid-template-rows: auto 1fr 1fr 1fr;\n\n\tpadding: 8px;\n\tmargin: 8px;\n\n\tborder-radius: 4px;\n\tbox-shadow: var(--border-shadow);\n\n\ttransition: 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: var(--small-shadow);\n\t}\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgrid-template-rows: auto 1fr 1fr;\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-template-columns: 1fr 1fr;\n\t\tgrid-template-rows: auto 1fr 1fr;\n\t}\n"]))),B=E.c.div(o||(o=Object(F.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-column: span 2;\n\t}\n"]))),z=E.c.span(c||(c=Object(F.a)(["\n\tmargin-left: 4px;\n"]))),J=E.c.div(s||(s=Object(F.a)(["\n\tdisplay: flex;\n"]))),_=E.c.div(d||(d=Object(F.a)(["\n\theight: fit-content;\n\n\tmargin: 0 0 0 8px;\n\tpadding: 0;\n\n\tborder: none;\n\tbackground: none;\n\tcolor: var(--text);\n\tfont-size: 1em;\n\n\tcursor: pointer;\n\tpointer-events: initial;\n\ttransition: 1s ease-in-out;\n\n\topacity: ",";\n\tpointer-events: ",";\n\ttransform: ",";\n"])),(function(t){return t.disabled?"0.1":"1"}),(function(t){return t.disabled?"none":"auto"}),(function(t){return t.disabled?"rotate(360deg)":"rotate(0deg)"})),G=E.c.div(l||(l=Object(F.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: center;\n\talign-items: center;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-column: span 2;\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-column: span 2;\n\t}\n"]))),Q=E.c.div(p||(p=Object(F.a)(["\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\n\tfont-size: 6rem;\n\tfont-weight: 700;\n"]))),H=E.c.div(u||(u=Object(F.a)(["\n\tjustify-self: stretch;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\n\t// Medium devices (tablets, 768px and up)\n\t@media (min-width: 768px) {\n\t\tjustify-content: center;\n\t\talign-items: initial;\n\t\tmin-width: 256px;\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tmin-width: 256px;\n\t}\n"]))),Z=function(t){for(var e=t.convertTime,n=t.daysArray,a=t.forceRefetch,i=t.forceRefresh,r=t.iconURL,o=t.weatherData,c=0,s=[],d=[],l=0;l<n[0].length;l++)c+=n[0][l].pop,s.push(n[0][l].main.temp_min),d.push(n[0][l].main.temp_max);var p={clouds:o.clouds.all,date:o.dt,description:o.weather[0].description,feelsLike:Math.round(o.main.feels_like),humidity:o.main.humidity,image:o.weather[0].icon,imageCode:o.weather[0].id,lastUpdated:o.dt,pop:Math.round(c/n[0].length*100),pressure:o.main.pressure,main:o.weather[0].main,sunrise:o.sys.sunrise,sunset:o.sys.sunset,temp:Math.round(o.main.temp),tempMin:Math.round(Math.min.apply(Math,s)),tempMax:Math.round(Math.max.apply(Math,d)),visibility:Math.floor(o.visibility/1e3),windSpeed:o.wind.speed,windDeg:o.wind.deg};return Object(I.jsxs)(q,{children:[Object(I.jsxs)(B,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.g,title:"Location"}),Object(I.jsxs)(z,{children:[o.name,",",o.sys.country]})]}),Object(I.jsxs)(J,{title:a?"Next refresh in 5 min":"",children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.c,title:"Last updated"})," ",e(o.dt)]}),Object(I.jsx)(_,{onClick:i,disabled:!!a,title:"Refresh",children:Object(I.jsx)(A.a,{icon:N.l})})]})]}),Object(I.jsxs)(G,{children:[Object(I.jsx)("img",{src:"".concat(r,"/").concat(p.image,"@2x.png"),alt:p.description}),Object(I.jsx)(Q,{children:Object(I.jsxs)("div",{children:[p.temp,"\xb0"]})})]}),Object(I.jsxs)(H,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.n,title:"Low"})," ",p.tempMin,"\xb0 / ",Object(I.jsx)(A.a,{icon:N.m,title:"High"})," ",p.tempMax,"\xb0"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.o,title:"Feels like"})," Feels like ",p.feelsLike,"\xb0"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.d,title:"Cloud coverage"})," Cloud coverage: ",p.clouds,"%"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.q,title:"Probability of precipitation"})," ","Precipitation: ",p.pop,"%"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.p,title:"Humidity"})," Humidity:"," ",p.humidity,"%"]})]}),Object(I.jsxs)(H,{children:[Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.f,title:"Atmospheric pressure"})," ","Pressure: ",p.pressure,"hPa"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.b,title:"Visibility"})," Visibility:"," ",p.visibility,"km"]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.r,title:"Wind speed/direction"})," Wind:"," ",p.windSpeed,"m/s"," ",Object(I.jsx)(A.a,{icon:N.a,transform:{rotate:p.windDeg},title:"Wind direction"})]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.k,title:"Sunrise"})," Sunrise:"," ",e(p.sunrise)]}),Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.i,title:"Sunset"})," Sunset:"," ",e(p.sunset)]})]})]})},Y=E.c.div(m||(m=Object(F.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\n\tborder-radius: 4px;\n\tbox-shadow: var(--border-shadow);\n\n\tpadding: 8px;\n\tmargin: 8px;\n\n\ttransition: 0.2s ease;\n\n\timg {\n\t\tmax-width: 100px;\n\t\theight: auto;\n\t}\n\n\t&:hover {\n\t\tbox-shadow: var(--small-shadow);\n\t}\n"]))),V=E.c.div(h||(h=Object(F.a)(["\n\tdisplay: flex;\n\n\tdiv {\n\t\tmargin: 0 2px;\n\t}\n"]))),X=function(t){var e=t.iconURL,n=t.item,a=t.timeOrDate;return Object(I.jsxs)(Y,{children:[Object(I.jsx)("div",{children:a(n.date)}),Object(I.jsx)("img",{src:"".concat(e,"/").concat(n.image,"@2x.png"),alt:n.description}),Object(I.jsxs)("div",{children:[Math.round(n.temp),"\xb0 \u2013 ",n.main]}),Object(I.jsxs)(V,{children:[n.clouds>10?Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.d,title:"Cloud coverage"})," ",n.clouds,"%"]}):Object(I.jsx)(I.Fragment,{}),n.pop>0?Object(I.jsxs)("div",{children:[Object(I.jsx)(A.a,{icon:N.e,title:"Probability of precipitation"})," ",n.pop,"%"]}):Object(I.jsx)(I.Fragment,{})]})]})},$=E.c.div(g||(g=Object(F.a)(["\n\tdisplay: grid;\n\tgrid-template-rows: repeat(4, 1fr);\n\tgrid-template-columns: initial;\n\n\tmargin: 0;\n\tpadding: 0;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-template-rows: repeat(2, 1fr);\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-template-rows: initial;\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t}\n"]))),K=function(t){for(var e=t.convertTime,n=t.forecastData,a=t.iconURL,i=[],r=0;r<5;r++){var o={clouds:n.list[r].clouds.all,date:n.list[r].dt,description:n.list[r].weather[0].description,image:n.list[r].weather[0].icon,pop:Math.round(100*n.list[r].pop),main:n.list[r].weather[0].main,temp:Math.round(n.list[r].main.temp)};i.push(o)}return Object(I.jsx)($,{children:i.slice(0,4).map((function(t,n){return Object(I.jsx)(X,{timeOrDate:e,item:t,iconURL:a},n)}))})},tt=E.c.div(x||(x=Object(F.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: initial;\n\tgrid-template-rows: repeat(4, 1fr);\n\n\tmargin: 0;\n\tpadding: 0;\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tgrid-template-rows: repeat(2, 1fr);\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\n\t// Large devices (desktops, 992px and up)\n\t@media (min-width: 992px) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t\tgrid-template-rows: initial;\n\t}\n"]))),et=function(t){for(var e=t.daysArray,n=t.convertDate,a=t.iconURL,i=[],r=1;r<5;r++){for(var o=0,c=0,s=0,d=Math.ceil(e[r].length/2),l=0;l<e[r].length;l++)e[r][l].dt||window.location.reload(),o+=e[r][l].clouds.all,c+=e[r][l].pop,s+=e[r][l].main.temp;var p={clouds:Math.round(o/e[r].length),date:e[r][d].dt,description:e[r][d].weather[0].description,image:e[r][d].weather[0].icon.substring(0,e[r][d].weather[0].icon.length-1)+"d",pop:Math.round(c/e[r].length*100),main:e[r][d].weather[0].main,temp:Math.round(s/e[r].length)};i.push(p)}return Object(I.jsx)(tt,{children:i.slice(0,4).map((function(t,e){return Object(I.jsx)(X,{timeOrDate:n,item:t,iconURL:a},e)}))})},nt=Object(E.b)(f||(f=Object(F.a)(["\n\tfont-size: 0.5em;\n\ttransform: translateX(1px) translateY(-8px);\n"]))),at=E.c.form(b||(b=Object(F.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\talign-items: center;\n\n\tmargin: 8px;\n\tpadding: 8px;\n\n\tbox-shadow: var(--border-shadow);\n\tborder-radius: 4px;\n\n\ttransition: 0.2s ease;\n\n\t&:hover {\n\t\tbox-shadow: var(--small-shadow);\n\t}\n\n\t&:focus-within {\n\t\tbox-shadow: var(--small-shadow);\n\t}\n\n\tbutton {\n\t\theight: fit-content;\n\n\t\tmargin: 0;\n\t\tpadding: 0;\n\n\t\tborder: none;\n\t\tbackground: none;\n\t\tcolor: var(--text);\n\t\tfont-size: 1em;\n\n\t\tcursor: pointer;\n\n\t\t&:focus {\n\t\t\toutline: none;\n\t\t}\n\t}\n"]))),it=E.c.button(j||(j=Object(F.a)(["\n\twidth: 18px;\n"]))),rt=E.c.div(v||(v=Object(F.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),ot=E.c.label(w||(w=Object(F.a)(["\n\tposition: absolute;\n\ttop: 0px;\n\tleft: 7px;\n\n\tpointer-events: none;\n\n\ttransition: all 0.2s ease;\n\n\t&.shrink {\n\t\t","\n\t}\n"])),nt),ct=E.c.input(O||(O=Object(F.a)(["\n\tbox-sizing: border-box;\n\n\tmargin: 0 4px;\n\tpadding: 4px;\n\n\twidth: calc(100% - 2 * 4px);\n\theight: 22px;\n\n\tborder: none;\n\tborder-top: 1px solid var(--background);\n\tborder-bottom: 1px solid var(--background);\n\n\tbackground-color: var(--background);\n\tcolor: var(--text);\n\n\tfont-size: 1em;\n\n\t&:hover,\n\t&:focus {\n\t\toutline: none;\n\t\tborder-top: 1px solid var(--background);\n\t\tborder-bottom: 1px solid var(--text);\n\t}\n\n\t&:focus ~ "," {\n\t\t","\n\t}\n"])),ot,nt),st=function(t){var e=t.getCityWeatherData,n=t.handleLocationWeatherData,a=t.query,i=t.setQuery;return Object(I.jsxs)(at,{onSubmit:function(t){t.preventDefault(),e(a),i(""),document.getElementsByName("city")[0].value=""},children:[localStorage.hasOwnProperty("weatherData")?Object(I.jsx)(I.Fragment,{}):Object(I.jsx)(it,{onClick:n,type:"button",children:Object(I.jsx)(A.a,{icon:N.h,title:"My Location"})}),Object(I.jsxs)(rt,{children:[Object(I.jsx)(ct,{type:"text",name:"city",onChange:function(t){return i(t.target.value)},required:!0}),Object(I.jsx)(ot,{htmlFor:"city",className:a.length?"shrink":"",children:"Search city"})]}),Object(I.jsx)("button",{type:"submit",children:Object(I.jsx)(A.a,{icon:N.j,title:"Search"})})]})},dt=function(t){for(var e=t.convertDate,n=t.convertTime,a=t.forceRefetch,i=t.forceRefresh,r=t.forecastData,o=t.handleLocationWeatherData,c=t.getCityWeatherData,s=t.query,d=t.setQuery,l=t.weatherData,p="https://openweathermap.org/img/wn",u=[],m=function(t){var e=(new Date).setFullYear((new Date).getFullYear(),0,1),n=Math.floor(e/864e5);return Math.ceil(t.getTime()/864e5)-n},h=function(t){u.push(r.list.filter((function(e){return m(new Date(1e3*e.dt))===m(new Date)+t})))},g=0;g<6;g++)h(g);return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(st,{handleLocationWeatherData:o,getCityWeatherData:c,query:s,setQuery:d}),Object(I.jsx)(Z,{convertDate:e,convertTime:n,daysArray:u,forceRefetch:a,forceRefresh:i,iconURL:p,weatherData:l}),Object(I.jsx)(K,{convertTime:n,forecastData:r,iconURL:p}),Object(I.jsx)(et,{convertDate:e,daysArray:u,iconURL:p})]})};function lt(){return(lt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}).apply(this,arguments)}function pt(t,e){if(null==t)return{};var n,a,i=function(t,e){if(null==t)return{};var n,a,i={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ut(t,e){var n=t.title,a=t.titleId,i=pt(t,["title","titleId"]);return L.createElement("svg",lt({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:e,"aria-labelledby":a},i),y||(y=L.createElement("defs",null,L.createElement("style",null,".cls-1{fill:#ffcd34;stroke:#fff;stroke-miterlimit:10;}"))),void 0===n?L.createElement("title",{id:a},"logo"):n?L.createElement("title",{id:a},n):null,k||(k=L.createElement("g",{id:"Layer_2","data-name":"Layer 2"},L.createElement("polygon",{className:"cls-1",points:"91.22 256.01 148.01 298.78 141 366.79 221.61 362.58 255.97 413.76 300.83 359.08 373.04 368.89 366.03 295.27 422.11 256.01 361.82 211.84 375.14 145.93 306.44 145.93 260.17 93.34 216.71 145.93 143.8 136.81 148.01 210.44 91.22 256.01"}))),D||(D=L.createElement("g",{id:"Layer_1-2","data-name":"Layer 1"},L.createElement("path",{d:"M423,232.1,381,203.7l9.6-49.78a28.35,28.35,0,0,0-33.16-33.3l-49.7,9.61-28.32-42c-10.59-15.64-36.38-15.64-47,0l-28.32,42-49.63-9.61a28.42,28.42,0,0,0-33.23,33.3l9.6,49.78L89,232.1a28.41,28.41,0,0,0,0,47l41.92,28.4-9.6,49.78a28.35,28.35,0,0,0,33.23,33.23L204.16,381l28.32,42a28.29,28.29,0,0,0,47,.07l28.32-42,49.7,9.61a28,28,0,0,0,25.45-7.78,28.47,28.47,0,0,0,7.78-25.45l-9.6-49.78L423,279.22A28.43,28.43,0,0,0,423,232.1Zm-79.15,60,12.34,63.94-63.79-12.34L256,397.64l-36.38-54L155.86,356,168.19,292l-53.84-36.46,53.84-36.46-12.34-63.94,63.79,12.34L256,113.68l36.38,53.92,63.79-12.34L343.8,219.13l53.84,36.46L343.8,292.12ZM256,183.09A72.92,72.92,0,1,0,328.87,256,73,73,0,0,0,256,183.09Zm0,112.18A39.26,39.26,0,1,1,295.22,256,39.29,39.29,0,0,1,256,295.27Z"}))))}var mt,ht=L.forwardRef(ut),gt=(n.p,Object(E.c)(ht)(mt||(mt=Object(F.a)(["\n\tmax-width: 512px;\n\n\talign-self: center;\n\tjustify-self: center;\n\n\tanimation: rotation 3s infinite ease-in-out;\n\tanimation-direction: alternate;\n\n\t@keyframes rotation {\n\t\tfrom {\n\t\t\ttransform: rotate(0deg) scale(0.7);\n\t\t}\n\t\tto {\n\t\t\ttransform: rotate(180deg) scale(0.6);\n\t\t}\n\t}\n\n\t// Small devices (landscape phones, 576px and up)\n\t@media (min-width: 576px) {\n\t\tmax-width: 702px;\n\t}\n"])))),xt=function(){return Object(I.jsx)(gt,{title:"Spinning Logo"})};var ft=function(){var t=Object(L.useState)(""),e=Object(W.a)(t,2),n=e[0],a=e[1],i=Object(L.useState)([]),r=Object(W.a)(i,2),o=r[0],c=r[1],s=Object(L.useState)([]),d=Object(W.a)(s,2),l=d[0],p=d[1],u=Object(L.useState)(!1),m=Object(W.a)(u,2),h=m[0],g=m[1],x="https://api.openweathermap.org/data/2.5",f="88f8e8a58d8479319be8c6845d6d1a75",b=function(){P.a.all([P.a.get("".concat(x,"/weather/?q=").concat(n,"&units=metric&appid=").concat(f)),P.a.get("".concat(x,"/forecast?q=").concat(n,"&units=metric&appid=").concat(f))]).then(P.a.spread((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];c(e[0].data),p(e[1].data)}))).catch((function(t){t.response?(404===t.response.status&&alert("City not found. Please enter valid city name and/or two letter country code separated by coma. (e.g. Plovdiv, BG)"),console.log(t.response.data.message)):console.log(t)}))},j=function(){var t;new Promise((function(e,n){navigator.geolocation.getCurrentPosition(e,n,t)})).then((function(t){var e,n;e=t.coords.latitude,n=t.coords.longitude,P.a.all([P.a.get("".concat(x,"/weather/?lat=").concat(e,"&lon=").concat(n,"&units=metric&appid=").concat(f)),P.a.get("".concat(x,"/forecast?lat=").concat(e,"&lon=").concat(n,"&units=metric&appid=").concat(f))]).then(P.a.spread((function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];c(e[0].data),p(e[1].data),localStorage.setItem("weatherData",JSON.stringify(e[0].data)),localStorage.setItem("forecastData",JSON.stringify(e[1].data))}))).catch((function(t){t.response?console.log(t.response.data.message):console.log(t)}))})).catch((function(t){1===t.code?alert("To use your geolocation please allow location permission on your device."):2===t.code?alert("Geolocation failed because one or several internal sources of position returned an internal error."):3===t.code&&alert("Geolocation timed out."),console.log(t.message)}))};return Object(L.useEffect)((function(){(localStorage.hasOwnProperty("weatherData")||localStorage.hasOwnProperty("forecastData"))&&(Date.now()-1e3*JSON.parse(localStorage.getItem("weatherData")).dt>36e5?j():(c(JSON.parse(localStorage.getItem("weatherData"))),p(JSON.parse(localStorage.getItem("forecastData")))))}),[]),Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(T,{}),200===o.cod&&"200"===l.cod?Object(I.jsx)(U,{children:Object(I.jsx)(dt,{convertDate:function(t){return new Date(1e3*t).toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"numeric",year:"numeric"})},convertTime:function(t){return new Date(1e3*t).toLocaleTimeString("en-GB",{hour12:!1,hour:"numeric",minute:"numeric"})},forceRefetch:h,forceRefresh:function(){j(),g(!0),setTimeout((function(){g(!1),clearTimeout()}),3e5)},forecastData:l,handleLocationWeatherData:j,getCityWeatherData:b,query:n,setQuery:a,weatherData:o})}):Object(I.jsxs)(U,{children:[Object(I.jsx)(st,{handleLocationWeatherData:j,getCityWeatherData:b,query:n,setQuery:a}),Object(I.jsx)(xt,{})]})]})},bt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function jt(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}var vt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(e){var n=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;n(t),a(t),i(t),r(t),o(t)}))};R.a.render(Object(I.jsx)(S.a.StrictMode,{children:Object(I.jsx)(ft,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("/weather-app",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/weather-app","/service-worker.js");bt?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):jt(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):jt(e,t)}))}}(),vt()}},[[56,1,2]]]);
//# sourceMappingURL=main.edebc93c.chunk.js.map